---
title: '재귀(Recursion)와 카탈랑 수'
description: '재귀와 카탈랑 수 간 관계'
date: 2025-10-29
tags: ['재귀', '카타랑 수', 'recursion', 'catalan number']
image: './banner.png'
authors: ['Kihyo']
draft: true
---

자료구조와 알고리즘을 공부하다보면 꼭 만나게 되는 개념 중 하나가 바로 재귀(recursion)다. 함수가 재귀하지 않음으로써 본인 스스로가 무한히 호출되지 않는 기저 조건(base case)을 갖고 있고 이후엔 induction step을 따라서 계산되는 바로 그것. 수학에서는 수리적 귀납법(mathematical induction or a proof by induction)이라는 증명 테크닉으로서 소개된다.

이 재귀라는 개념은 사실 언어학에서도 굉장히 중요하게 다루어지는데 (특히 통사론), 인간의 언어능력(language faculty)의 창조성 혹은 창의성을 보여주는 특징 중 하나로서 관찰되기 때문이다. 예컨대 아래 문장들을 보자.

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(1a) 예쁜 은지의 여동생이 있다.</li>
  <li>(1b) 예쁜 은지의 여동생의 인형이 있다.</li>
  <li>(1c) 예쁜 은지의 여동생의 인형의 옷이 있다.</li>
  <li>(1d) 예쁜 은지의 여동생의 인형의 옷의 단추가 있다.</li>
</ul>

(1a)에서 (1d)를 살펴보면 문장이 점점 더 길어지는 것을 알 수 있는데, 결국엔 소유의 기능을 나타내는 '-의'라는 조사를 이용해 문장을 생성시키는 것을 알 수 있다. 다시 말해, 'X의 Y의 Z의 ...'와 같은 재귀를 보여주는 것이다.

통사론이나 언어학개론 수업에서 재귀를 배울 때 보통은 그냥 어떤 문법 규칙을 갖고선 그 규칙을 이용해 무한한 길이의 문장을 만들 수 있다는 점을 배우고 앞서 말했듯 인간의 언어능력의 창조성 또는 창의성을 보여주는 걸로 끝나는 경우가 많다. 사실 이 재귀란 건 구문분석(parsing) 관점 수학적으로 재밌는 점을 하나 엿볼 수 있다.
이번에는 영어 예시를 한 번 봐보자.

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(2a) Put the block in the box on the table.</li>
</ul>

이 문장은 사실 중의적(ambiguous)인데, 왜냐하면 (2a)은 아래와 같이 두 가지 경우로 구문분석이 가능하기 때문이다.

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(2b) Put the block [in the box on the table].</li>
  <li>(2c) Put [the block in the box] on the table.</li>
</ul>

즉, (2a)는 (2b)와 같이 [책상 위에 있는 박스 안에](=in the box on the table) 블록을 넣으라고 해석하거나, 아니면 (2c)와 같이 [박스 안에 있는 블록](=the block in the box)을 책상 위에 놓으라고 해석할 수 있다는 것이다.[^1]
일다 여기까지는 어느 정도는 간단해 보인다. 중의적인 문장을 어떻게 분석하느냐에 따라서 의미가 달라진다는 것. 근데 만약 이 문장이 아래와 같이 확장되면 어떨까?

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(3a) Put the block in the box on the table in the kitchen.</li>
</ul>

이전 문장과 비교했을 때 (3a)에서 추가된 건 "in the kitchen"이란 전치사구(prepositional phrase)[^2]가 추가된 것뿐이다. 하지만 마찬가지로 중의적인데, 이 경우 시행할 수 있는 구문분석은 총 5가지 경우다.

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(3b) Put the block [[in the box on the table] in the kitchen].</li>
  <li>(3c) Put the block [in the box [on the table in the kitchen]].</li>
  <li>(3d) Put [[the block in the box] on the table] in the kitchen.</li>
  <li>(3e) Put [the block [in the box on the table]] in the kitchen.</li>
  <li>(3f) Put [the block in the box] [on the table in the kitchen].</li>
</ul>

그리고 여기서 만약 전치사구가 또 하나 더 생성된다면, 구문분석을 할 수 있는 경우의 수는 위 5가지 경우보다 훨씬 더 많아질 거다. 직접 쓰면 머리만 아퍼질 때니 조금 더 간단한 구조를 가진 걸 갖고 이야기 해보자. 다음과 같은 생성 규칙을 지닌 문법이 있다고 하자.

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(4) $$NP \rightarrow $$ 은지 $$| NP$$ 그리고 $$NP$$</li>
</ul>

(4)에서 

먼저 $$X$$가 임의의 명사라 할 때, $$X_{n}$$에 대한 생성 규칙을 정의한다. 

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(4) $$X_{n} =$$ 은지 + $$(X_{n-1}$$ • 그리고 • $$X_{n-1})$$</li>
</ul>

(4)에서 "+"는 하나의 명사를 생성하는 두 가지 다른 방식을 연결(connect)하는 기능을 하며, "•"은 하나의 명사를 결합(concatenate)하는 기능을 한다 ("은지"와 "그리고" 대신에 다른 명사나 접속사가 되어도 상관없다. 예컨대 "봇치"와 "하지만"도 가능.). 이 표현들이 어색하다면 배커스-나우르 표기법(BNF)으로 쓰면 다음과 같이 표현 가능하다.

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(4a) $$X_{n} ::=$$ 은지 | $$(X_{n-1}$$ • 그리고 • $$X_{n-1})$$</li>
</ul>

또한 $$X_{0}$$에 대해서 먼저 아래와 같이 기저 조건을 정의한다.

<ul style={{ listStyleType: "none", paddingLeft: 0 }}>
  <li>(5) $$X_{0} = 0$$</li>
</ul>




좋든 싫든 간에, 어찌됐든 이 방정식이 무엇을 보여줄지 알아내야만 하는 상황에 놓여있다고 치죠. 일단 n = 0일 때, (3)은 아래와 같은 결과를 내놓는다고 합시다.

(3a) X0 = 0

분배법칙, 교환법칙, 항등, 영(0)요소를 가정한다고 했을 때, n=1일 때 (3)은 다음과 같습니다.

(3b) X1 = 철수 + X0 • 그리고 • X0 = 철수 + 0 • 그리고 • 0 = 철수

그리고 n을 양의 방향으로 정수들을 넣다보면 다음과 같은 결과들이 전개됩니다.

(3c) X2 = 철수 + X1 • 그리고 • X1 = 철수 + 철수 그리고 철수

(3d) X3 = 철수 + X2 • 그리고 • X2 = 철수 + (철수 + 철수 그리고 철수) • 그리고 • (철수 + 철수 그리고 철수) 

= 철수 + 철수 그리고 철수 + 철수 그리고 철수 그리고 철수 + 철수 그리고 철수 그리고 철수 + 철수 그리고 철수 그리고 철수 그리고 철수 

= 철수 + 철수 그리고 철수 + 2(철수 그리고 철수 그리고 철수) + 철수 그리고 철수 그리고 철수 그리고 철수
.....

위 전개를 단순화 시켜볼까요? x^i는 x ⋅ x ⋅ ... ⋅ x, i번 곱한다는 제곱이라고 하면, 위 전개식은 다음과 같은 수열로 만들 수 있습니다.

(4) X = 1철수 + 1(철수 그리고 철수) + 2철수(그리고 철수)^2 + 5철수(그리고 철수)^3 + 14철수(그리고 철수)^4 + ...

혹시 뭔가 익숙한 패턴이 보이시나요? 그렇습니다. 이 패턴은 바로 조합론에서 나오는 카탈랑 수(Catalan number)입니다. 카탈랑 수는 다음과 같이 정의됩니다.

음이 아닌 정수 n에 대해서, n번째 카탈랑 수 Cn은 다음과 같다.
Cn = (2n)!/n!(n+1)!

위 제시된 정의에 1,2,3 ... n을 순서대로 넣어보면, 1, 1, 2, 5, 14 ... 순으로 값이 나오는 걸 알 수 있습니다. 즉, 사실 (4)는 카탈랑 수와 비례 관계를 이루고 있다는 것이죠. 다른 말로 하자면, 카탈랑 수와 비례 관계를 지닌 문장의 구문분석 방식은 최소 1개에서, 45950804324621742364개 이상(...)이라는 것입니다. 
물론, 실제로 우리가 의사소통 상황에서 저런 말을 하느냐고 물어본다면 저는 당연히 아니라고 말할 겁니다. 하지만 그 이전에, 우리가 저런 말을 쓸 수 있다는 능력을 갖고 있거나 아니면 언어가 저런 성질을 갖고 있으며 한 때 전산언어학자들에게 중요한 주제로서 연구됐다는 점을 이야기하고 싶네요. 사실 지금까지 한 내용들은 아실만한 분들은 다 아시는 거겠지만...무엇보다 이거 되게 씐기하지 않나여 여러분? 여러분 수학이 킹왕짱입니다. 수학 공부합시다. 

참고문헌:
Church, K., Patil, R. (1982). Coping with syntactic ambiguity or how to put the block in the box on the table. American Journal of Computational Linguistics.

[^1]: 이 두 개의 해석 중에 어느 것이 선호되느냐는 또 다른 문제다.
[^2]: 전치사구란 영어를 예시를 들어 얘기하면 in, on, at과 같은 전치사를 중심으로 함께 분포되는 단어들의 집합을 말한다. 참고로 한국어는 후치사(postposition)다.