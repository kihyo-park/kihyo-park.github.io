---
title: '재귀(Recursion)와 카탈랑 수'
description: '재귀와 카탈랑 수 간 관계'
date: 2025-10-29
tags: ['재귀', '카타랑 수', 'recursion', 'catalan number']
image: './banner.png'
authors: ['Kihyo']
draft: true
---

자료구조 및 알고리즘을 공부하다보면 꼭 만나게 되는 개념 중 하나가 바로 재귀(recursion)다. 함수가 재귀하지 않음으로써 본인 스스로가 무한히 호출되지 않는 기저 조건(base case)을 갖고 있고 이후엔 induction step을 따라서 계산되는 바로 그것. 수학에서는 수리적 귀납법(mathematical induction or a proof by induction)이라는 증명 테크닉으로서 소개된다.

이 재귀라는 개념은 사실 언어학에서도 굉장히 중요하게 다루어지는데, 

통사론이나 언어학개론 수업에서 회귀(recursion)를 배울 때 보통은 그냥 어떤 문법 규칙을 갖고선 그 규칙을 이용해 무한한 길이의 문장을 만들 수 있다는 점을 배웁니다. 그리고 이것이 언어(능력)의 창조성/창의성(creativity)이란 클리셰스러운 함의점을 제안하는 수준에서 끝나곤 하지만, 사실 이 회귀란 건 구문분석(parsing) 관점, (아마) 왕왕 크게 봐서 전산언어학 또는 자연어처리(NLP) 관점에서 들여다보면 수학적으로 재밌는 점을 하나 엿볼 수 있습니다.
보통 언어에서 나타나는 회귀는 아래와 같은 현상을 보여주는 문장을 지칭합니다. 한국어로 쓰면 복잡해지니깐 상대적으로 보기에 쉬운 영어로 일단 먼저 써보죠.

(1) Put the block in the box on the table.

이 문장은 사실 중의적인데, 왜냐하면 (1)은 아래와 같이 두 가지 경우의 수로 구문분석이 가능하기 때문입니다.

(1a) Put the block [in the box on the table]
(1b) Put [the block in the box] on the table

즉, (1)은 (1a)와 같이 테이블 위에 있는 박스 안의 블록을 (어디에) 놓으라고 해석하거나, 아니면 (1b)와 같이 박스 안에 있는 블록을 테이블 위에 놓으라고 해석할 수 있습니다. 다른 말로 하면 전치사구를 어떻게 부착시키느냐에 따라 해석이 달라지는 것이죠.
뭐, 일단은 여기까지는 괜찮아보입니다. 근데 만약 (1)에서 전치사구가 하나 더 추가된다면 어떨까요?

(2) Put the block in the box on the table in the kitchen.

이 경우에, (2)에서 시행할 수 있는 구문분석은 5가지 경우입니다.

(2a) Put the block [[in the box on the table] in the kitchen]
(2b) Put the block [in the box [on the table in the kitchen]]
(2c) Put [[the block in the box] on the table] in the kitchen
(2d) Put [the block [in the box on the table]] in the kitchen
(2e) Put [the block in the box] [on the table in the kitchen]

여기서 만약 전치사구가 하나 더 생긴다면, 구문분석을 할 수 있는 경우의 수는 (2)보다 당연히 훨씬 더 많아질 겁니다. 하지만 이렇게 써봤자 머리만 아파질 뿐이니 조금 더 쉽게 한국어 문장을 갖고서 이야기해보죠. 아래와 같은 어떤 문법 규칙, 좀 더 넓게 말해 방정식을 하나 만들었다고 합시다.
(3) Xn = 철수 + Xn-1 • 그리고 • Xn-1

(3)에서 '+'는 하나의 명사(구)를 생성하는 두 가지 방식을 연결(connect)하는 기능을 하며, '•'은 하나의 명사(구)를 결합(concatenate)하는 기능을 합니다. 좋든 싫든 간에, 어찌됐든 이 방정식이 무엇을 보여줄지 알아내야만 하는 상황에 놓여있다고 치죠. 일단 n = 0일 때, (3)은 아래와 같은 결과를 내놓는다고 합시다.

(3a) X0 = 0

분배법칙, 교환법칙, 항등, 영(0)요소를 가정한다고 했을 때, n=1일 때 (3)은 다음과 같습니다.

(3b) X1 = 철수 + X0 • 그리고 • X0 = 철수 + 0 • 그리고 • 0 = 철수

그리고 n을 양의 방향으로 정수들을 넣다보면 다음과 같은 결과들이 전개됩니다.

(3c) X2 = 철수 + X1 • 그리고 • X1 = 철수 + 철수 그리고 철수
(3d) X3 = 철수 + X2 • 그리고 • X2 = 철수 + (철수 + 철수 그리고 철수) • 그리고 • (철수 + 철수 그리고 철수) = 철수 + 철수 그리고 철수 + 철수 그리고 철수 그리고 철수 + 철수 그리고 철수 그리고 철수 + 철수 그리고 철수 그리고 철수 그리고 철수 = 철수 + 철수 그리고 철수 + 2(철수 그리고 철수 그리고 철수) + 철수 그리고 철수 그리고 철수 그리고 철수
.....

위 전개를 단순화 시켜볼까요? x^i는 x ⋅ x ⋅ ... ⋅ x, i번 곱한다는 제곱이라고 하면, 위 전개식은 다음과 같은 수열로 만들 수 있습니다.

(4) X = 1철수 + 1(철수 그리고 철수) + 2철수(그리고 철수)^2 + 5철수(그리고 철수)^3 + 14철수(그리고 철수)^4 + ...

혹시 뭔가 익숙한 패턴이 보이시나요? 그렇습니다. 이 패턴은 바로 조합론에서 나오는 카탈랑 수(Catalan number)입니다. 카탈랑 수는 다음과 같이 정의됩니다.

음이 아닌 정수 n에 대해서, n번째 카탈랑 수 Cn은 다음과 같다.
Cn = (2n)!/n!(n+1)!

위 제시된 정의에 1,2,3 ... n을 순서대로 넣어보면, 1, 1, 2, 5, 14 ... 순으로 값이 나오는 걸 알 수 있습니다. 즉, 사실 (4)는 카탈랑 수와 비례 관계를 이루고 있다는 것이죠. 다른 말로 하자면, 카탈랑 수와 비례 관계를 지닌 문장의 구문분석 방식은 최소 1개에서, 45950804324621742364개 이상(...)이라는 것입니다. 
물론, 실제로 우리가 의사소통 상황에서 저런 말을 하느냐고 물어본다면 저는 당연히 아니라고 말할 겁니다. 하지만 그 이전에, 우리가 저런 말을 쓸 수 있다는 능력을 갖고 있거나 아니면 언어가 저런 성질을 갖고 있으며 한 때 전산언어학자들에게 중요한 주제로서 연구됐다는 점을 이야기하고 싶네요. 사실 지금까지 한 내용들은 아실만한 분들은 다 아시는 거겠지만...무엇보다 이거 되게 씐기하지 않나여 여러분? 여러분 수학이 킹왕짱입니다. 수학 공부합시다. 

참고문헌:
Church, K., Patil, R. (1982). Coping with syntactic ambiguity or how to put the block in the box on the table. American Journal of Computational Linguistics.