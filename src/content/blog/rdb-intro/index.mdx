---
title: '01. SQL과 관계형 모델'
description: 'SQL과 관계형 모델 비교. 당연히 유사하지만 그러면서도 생각 이상으로 다르다.'
date: 2025-09-09
tags: ['RDB']
image: './banner.png'
authors: ['Kihyo']
---
import LoadImages from '@/components/LoadImages.astro';

SQL(난 사실 "시퀄"이라고 말하는 게 아직도 더 편하긴 하다)을 덕질하기 시작한지 얼마 안됐는데 (아직도 JOIN이 헷갈리고 윈도우 함수나 CTE는 찍먹도 못해봄) 하면 할수록
쿼리를 날리는 여러가지 함수를 알고 그것을 써먹는 것을 살펴보는 것보다 '왜' 그러한 함수를 써야하는가란 질문과 더불어 관계형 데이터베이스 자체가 어떻게 구성되어있는지가 궁금해졌다. 이 글은 그러한
내 개인적인 궁금증들을 해결하기 위해 남긴 기록들이다.

## 관계형 모델이란?

먼저 이 "관계형 모델"이란 단어부터 쪼개보자. **모델**은 모형이라는 뜻이며, 간단하게 말하면 이는 어떠한 틀이라 할 수 있다. 이 모형을 어떤 방식으로 쓰느냐에 따라서 그 구체적인 모양새가 조금씩 달라질 수 있지만,
그 기본적인 틀은 변하지 않는다. 그리고 이 모형이라는 틀은 데이터라는 자료를 담을 수 있으며, 그 자료는 구성된 요소들에 따라서 다양한 형태를 취할 수 있다. 따라서 우리는 <u>모델이란 것은 임의의 형태를 지닌
자료, 즉, 데이터를 담는 모형이자 곧 틀</u>이라 볼 수 있다.

그렇다면 관계형은 무엇일까? 즉, 관계(Relation)이란 무엇일까? 테이블 사이의 관계라고 얘기할 수도 있지만, 이는 정확하지 않은 표현이다. 단도직입적으로 말한다면 SQL의 관점에서는 관계란 곧 테이블이다. 즉, 테이블은 관계의 집합이라 할 수 있는데 좀 더 깊게 들어가보자.

우리는 관계의 정의를 다음과 같이 한다.

* 관계 
  * 제목(Heading)
    * 이름과 데이터형으로 되어 있는 속성(Attribute)이 n개가 모인 집합 (이 때, n은 0개 이상의 정수)
  * 본체(Body)
    * 속성 값의 집한인 행의 모임인 튜플의 집합

이 때, 튜플의 집합, 즉, 튜플에 있는 속성값은 이름과 데이터형이 제목에서 지정한 것과 서로 일치해야 한다. 정리하면 **관계란 튜플의 집합이고, 여기서 튜플은 모두 같은 n개의 속성값의 집합이며 그 구성이 서로 같은 것**이라 할 수 있다.
그리고 우리는 이 관계들의 집합을 우리는 테이블이라 부른다. 

(여기에다가 DB 수업 들은 거 추가하기)

<LoadImages 
  filename="relation_example.png" 
  alt="relation_example"
/>

따라서 **관계형 모델이란, 제목과 본체라는 서로 동일한 n개의 속성값을 지닌 튜플의 집합을 포함하고 있는 모형**이  라고 얘기할 수 있다. 
나아가 관계형 모델에서 튜플과 속성이 결국 각각 SQL에서 행(row)와 열(column)에 대응하는 것임을 알 수 있다.

| 관계형 모델   | SQL
| :--------- | :---
| 관계        | 테이블
| 튜플        | 행(row)
| 속성        | 열(column)

## 관계의 연산

관계형 모델은 기본적으로 집합론을 근간으로 삼고 있다. 그렇기에 관계형 모델을 이해하려면 집합에 대해서 정확히 알고 있는 것이 중요한데, 기본적으로 이 두 가지만큼은 꼭 알고있자.

1. 어떤 원소가 집합에 포함되어 있는지 판정 가능해야 한다. 
    * 이는 다음과 같이 지시함수/특성함수를 이용해 표현할 수 있다. 
$$
\chi_A(x) =
\begin{cases}
1 & \text{if } x \in A \\
0 & \text{if } x \notin A
\end{cases}
$$

2. 집합의 원소는 서로 중복되지 않으며, 각 원소는 그 자체로 유일하다.
    * 예컨대, $$\{1, 2, 3, 3\} = \{1, 2, 3\}$$에서는 사실 3이 두 번 나온 건 그닥 중요하지 않으며 각 원소 그 자체가 유일하다. 요건 ZFC 공리계에서 아래 외연공리에 의해 나올 수 있는 거다.
$$
(\forall x \in A, \; x \in B) \;\land\; (\forall x \in B, \; x \in A) 
\;\;\;\;\Leftrightarrow\;\;\;\; A = B
$$

이를 바탕으로 하자면 결국 관계란 것은 집합이다. 집합이니깐 당연히 연산이 가능할 것인데, 관계형 모델에서 그 연산은 쿼리(Query), 즉, 질의가 담당한다. 이를 통해 우리는 관계형 모델은 관계라는 단위로 다양한 연산을 쿼리를 통해 수행하는 데이터 모델로 생각해볼 수 있다.
그러나 이 관계라는 집합은 우리가 흔히들 생각하는 수학에서의 집합에서 사용하는 연산과는 살짝 다르다. 그 이유는 관계 내의 튜플이 모두 같은 구조를 갖기 때문이다. 따라서 관계형 모델에서는 기존 집합 연산과 동일한 것들도 볼 수 있지만, 그 특성에 의해서 관계형 모델에서 이루어질 수 있는 특유의 연산이 더 있다.
기본 연산부터 순서대로 살펴보자.

**제한(Restrict)**

**투사(Projection)**

**확장(Extension)**

**속성명 변경(Rename)**

**합집합(Union)**

**교집합(Intersection)**

**차집합(Difference)**

**곱집합(Product)**

**결합(Join)**
s
폐쇄(closure) 성질

관계형 모델의 데이터 형식

## SQL에서 관계 조작

SELECT

INSERT = 합집합

DELETE = 차집합

UPDATE

## SQL엔 있고 관계형 모델엔 없는 거

(작성 중)